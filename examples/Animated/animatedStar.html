<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Example</title>
	<script type="text/javascript">var loadBase = '../../'</script>
	<script type="text/javascript" src="../../lib/load.js"></script>
	<script type="text/javascript" src="../../src/load.js"></script>
	<script type="text/paperscript" canvas="canvas">
		var layer = document.activeLayer;
	
		var values = {
			count: 34,
			points: 32
		}
	
		var center = new Point(document.size) / 2;
		for (var i = 0; i < values.count; i++) {
			var offset = new Point(20 + 10 * i, 0);
			var path = new Path();
			path.fillColor = i % 2 ? 'red' : 'black';
			console.log(path.fillColor);
			path.closed = true;
		
			var l = offset.length;
			for (var j = 0; j < values.points * 2; j++) {
				offset.angle += 360 / values.points;
				var vector = offset.clone()
				vector.length = l * (j % 2 ? 0.1 : -0.1);
				path.add(offset + vector);
			}
			path.smooth();
			var placedSymbol = new PlacedSymbol(path);
			placedSymbol.position = center;
			layer.appendBottom(placedSymbol);
		}
		setInterval(draw, 30);

		var count = 0;
		function draw() {
			count++;
			for (var i = 0, l = layer.children.length; i < l; i++) {
				var item = layer.children[i];
				var angle = (values.count - i) * Math.sin(count / 128) / 10;
				item.rotate(angle);
			}
			document.redraw();
		}
	</script>
</head>
<body>
	<canvas id='canvas' width=1024 height=768></canvas>
</body>